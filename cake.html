<!DOCTYPE html>
<html>
<head>
  <title>Let's Eat a Macaron!</title>
  <link rel="stylesheet" href="frosting.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<body>

  <h1>This macaron is for Jenny</h1>
  <p>How odd for it to have candles...</p>

  <div class="candles">
    <div class="stupid-div">
      <div class="flame" id="flame1">
      </div>

      <div class="wick">
      </div>
    </div>

    <div class="stupid-div" id="mid-flame"> 
      <div class="flame" id="flame2">
      </div>

      <div class="wick">
      </div>
    </div>  

    <div class="stupid-div">
      <div class="flame" id="flame3">
      </div>

      <div class="wick">
      </div>
    </div>  

    <div class="candle" id="furst">
    </div>

    <div class="candle" id="middle-child">
    </div>

    <div class="candle">
    </div>

  </div>

  <div class="layer" id="top">
  </div>

  <div class="layer" id="layer1">
  </div>

  <div class="layer" id="creme">
  </div>

  <div class="layer" id="layer2">
  </div>

  <div class="layer" id="creme2">
  </div>

  <div class="layer" id="layer3">
  </div>

  <div id="match">
    <div id="match-head">
    </div>
  </div>

  <div id="pinwheel">
    <div id="blades">
      <div id="blade1">
      </div>
      <div id="blade2">
      </div>
      <div id="blade3">
      </div>
      <div id="blade4">
      </div>
    </div>
    <div id="pinwheel-stick">
    </div>
  </div>

  <script type="text/javascript">
    var candleLit = false;
    var candleState = 0;

    $("#match").click(function() {
      if (candleState === 0) {
        $("#flame1").fadeIn(1000);
        candleState = 1;
      }
      else if (candleState === 1) {
        $("#flame2").fadeIn(1000);
        candleState = 2;
      }
      else if (candleState === 2) {
        $("#flame3").fadeIn(1000);
        $("#blades").show();
        candleState = 3;
      }
      else if (candleState === 3) {
        $("#blades").css("-webkit-animation", "spin 2s ease-in-out 1");
        $(".flame").fadeOut(1000);
        setTimeout(function(){
          $("#blades").css("-webkit-animation", "");
          // $("#blades").hide();
        }, 2000);
        candleState = 0;
      }



      // if (candleLit === true) {
      //   $(".flame").fadeOut(2000);
      //   $("#blades").hide();
      //   candleLit = false;
      // }
      // else {
      //   $(".flame").fadeIn(2000);
      //   $("#blades").show();
      //   candleLit = true;
      // }
    });
  </script>

</body>

</html>